"use strict";function GSPBtoggleBgScroll(paneltype){"block"!=paneltype&&"modal"!=paneltype&&document.body.classList.toggle("scrollhidden")}function GSPBtogglemodaldialog(panel,paneltype,type="toggle"){"modal"==paneltype&&(panel.open&&"toggle"==type||"close"==type?panel.close():panel.showModal())}let gsslidingpanel=document.getElementsByClassName("gspb_button_wrapper");for(let i=0;i<gsslidingpanel.length;i++){let clickWrapNode=gsslidingpanel[i],paneltype=clickWrapNode.dataset.paneltype;if(void 0===paneltype)continue;let panelid=clickWrapNode.getAttribute("id"),currentNode=clickWrapNode.querySelector(".gspb_slidingPanel"),hovertrigger=currentNode.dataset.hover,width=document.documentElement.clientWidth,auto=currentNode.dataset.autotrigger,closeintent=currentNode.dataset.closeintent,closeintentonce=currentNode.dataset.closeintentonce,autotime=currentNode.dataset.autotriggertime,placebody=currentNode.dataset.placebody,clickselector=currentNode.dataset.clickselector,dynamicContentBefore=currentNode.dataset.dynamicbefore,dynamicContentAfter=currentNode.dataset.dynamicafter,panel=clickWrapNode.querySelector('[data-panelid="'+panelid+'"]');panel||(panel=document.querySelector('[data-panelid="'+panelid+'"]'));let closeNode=clickWrapNode.querySelector(".gspb_slidingPanel-close"),closeNodeCustom=clickWrapNode.querySelector(".gspb-custom-close");if(dynamicContentBefore||dynamicContentAfter){let contentinside=panel.querySelector(".gspb_slidingPanel-inner");if(dynamicContentBefore){let contentBeforeContent=document.querySelector(dynamicContentBefore);if(contentBeforeContent){let contentbefore=document.createElement("div");contentbefore.classList.add("gspb-dynamic-content-before"),contentbefore.innerHTML=contentBeforeContent.innerHTML,contentinside.firstChild?contentinside.insertBefore(contentbefore,contentinside.firstChild):contentinside.appendChild(contentbefore)}}if(dynamicContentAfter){let contentAfterContent=document.querySelector(dynamicContentAfter);if(contentAfterContent){let contentafter=document.createElement("div");contentafter.classList.add("gspb-dynamic-content-after"),contentafter.innerHTML=contentAfterContent.innerHTML,contentinside.appendChild(contentafter)}}}if("block"!=paneltype&&"modal"!=paneltype&&placebody){let div=document.createElement("div");div.classList.add(panelid),div.setAttribute("data-paneltype",paneltype),div.appendChild(panel),document.body.appendChild(div)}if(clickWrapNode){let clickNode=clickWrapNode.querySelector(".gspb-buttonbox");if("true"==hovertrigger&&width>1024?(clickWrapNode.addEventListener("mouseenter",(function(ev){panel.classList.add("active"),GSPBtogglemodaldialog(panel,paneltype,"open"),"block"!=paneltype&&"modal"!=paneltype&&document.body.classList.add("scrollhidden")}),!1),clickWrapNode.addEventListener("mouseleave",(function(ev){panel.classList.remove("active"),GSPBtogglemodaldialog(panel,paneltype,"close"),document.body.classList.remove("scrollhidden")}),!1)):clickNode.addEventListener("click",(function(ev){ev.preventDefault(),panel.classList.toggle("active"),GSPBtogglemodaldialog(panel,paneltype),clickWrapNode.classList.toggle("panelactive"),GSPBtoggleBgScroll(paneltype)}),!1),clickselector){let clickselectorNode=document.querySelectorAll(clickselector);clickselectorNode.length&&clickselectorNode.forEach(button=>{button.addEventListener("click",ev=>{ev.preventDefault(),panel.classList.toggle("active"),GSPBtogglemodaldialog(panel,paneltype),clickWrapNode.classList.toggle("panelactive"),button.classList.toggle("panelactive"),GSPBtoggleBgScroll(paneltype)})})}if(closeNode&&closeNode.addEventListener("click",(function(ev){panel.classList.toggle("active"),GSPBtogglemodaldialog(panel,paneltype),clickWrapNode.classList.toggle("panelactive"),GSPBtoggleBgScroll(paneltype)}),!1),currentNode.addEventListener("click",(function(ev){ev.target.classList.contains("gspb_slidingPanel")&&(panel.classList.toggle("active"),GSPBtogglemodaldialog(panel,paneltype),clickWrapNode.classList.toggle("panelactive"),GSPBtoggleBgScroll(paneltype))}),!1),closeNodeCustom&&closeNodeCustom.addEventListener("click",(function(ev){panel.classList.toggle("active"),GSPBtogglemodaldialog(panel,paneltype),clickWrapNode.classList.toggle("panelactive"),GSPBtoggleBgScroll(paneltype)}),!1),auto&&autotime&&setTimeout(()=>{panel.classList.toggle("active"),GSPBtogglemodaldialog(panel,paneltype),clickWrapNode.classList.toggle("panelactive"),GSPBtoggleBgScroll(paneltype)},1e3*parseFloat(autotime)),closeintent){let GSExitmouseEvent=e=>{let shouldShowExitIntent=!e.toElement&&!e.relatedTarget&&e.clientY<10;if(closeintentonce){let onceonly=localStorage.getItem(closeintentonce);onceonly&&"1"==onceonly&&(shouldShowExitIntent=!1)}shouldShowExitIntent&&(document.removeEventListener("mouseout",GSExitmouseEvent),panel.classList.toggle("active"),GSPBtogglemodaldialog(panel,paneltype),clickWrapNode.classList.toggle("panelactive"),GSPBtoggleBgScroll(paneltype),closeintentonce&&localStorage.setItem(closeintentonce,"1"))};setTimeout(()=>{document.addEventListener("mouseout",GSExitmouseEvent)},2e3)}"modal"==paneltype&&panel.addEventListener("click",e=>{const dialogDimensions=panel.getBoundingClientRect();(e.clientX<dialogDimensions.left||e.clientX>dialogDimensions.right||e.clientY<dialogDimensions.top||e.clientY>dialogDimensions.bottom)&&(panel.close(),panel.classList.remove("active"),GSPBtoggleBgScroll(paneltype))})}}document.addEventListener("keydown",(function(event){if("Escape"===event.key){let panels=document.querySelectorAll(".gspb_slidingPanel");panels.length&&panels.forEach(element=>{let paneltype=element.parentNode.dataset.paneltype;element.classList.remove("active"),GSPBtoggleBgScroll(paneltype)});let btns=document.querySelectorAll(".clickWrapNode");btns.length&&btns.forEach(element=>{element.classList.remove("panelactive")})}}));